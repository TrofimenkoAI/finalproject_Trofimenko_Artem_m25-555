# Платформа для отслеживания и симуляции торговли валютами

Это комплексная платформа, которая позволяет пользователям регистрироваться, управлять своим виртуальным портфелем фиатных и криптовалют, совершать сделки по покупке/продаже, а также отслеживать актуальные курсы в реальном времени. Система состоит из двух основных сервисов:

- Сервис Парсинга (Parser Service): Отдельное приложение, которое по запросу или расписанию обращается к публичным API, получает актуальные курсы, сравнивает их с предыдущими значениями и сохраняет историю в базу данных.

- Основной Сервис (Core Service): Главное приложение, которое предоставляет пользовательский интерфейс (CLI), управляет пользователями, их кошельками, историей транзакций и взаимодействует с сервисом парсинга для получения актуальных курсов.

## Установка и запуск

Требования: Python 3.11+, Poetry.

- `make install`
- `make project`

Для актуализации курсов, необходимо установить переменные окружения с API-ключами для их парсинга (заменить вместе со звёздочками):

- `export EXCHANGERATE_API_KEY="*ваш ключ*"`
- `export COINGECKO_API_KEY="*ваш ключ*"`

## Управление

Основные команды:

- `register <username> <password>` — регистрация пользователя
- `login <username> <password>` — вход пользователя
- `show-portfolio` —  показать портфель текущего пользователя
- `deposit <amount>` — пополнить базовую валюту (USD)
- `cash-out <amount>` — вывести базовую валюту (USD)
- `buy <currency> <amount>` — покупка валюты за USD
- `sell <currency> <amount>` — продажа валюты в USD
- `get-rate <from> <to>` — показать курс одной валюты к другой
- `update-rates` — обновить локальный кеш курсов
- `show-rates` — показать содержимое кеша курсов
- `exit/quit` — выход

У любой команды есть флаг `--help`, который выводит справку по синтаксису.

## Демонстрация (asciinema)

[![asciicast](https://asciinema.org/a/Zv2lrx0eLcoVReFz.svg)](https://asciinema.org/a/Zv2lrx0eLcoVReFz?autoplay=1)